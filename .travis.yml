# https://docs.travis-ci.com/user/deployment/pages
# http://derekweitzel.com/2017/02/08/deploying-docs-on-github-with-travisci
# https://stackoverflow.com/questions/50892018/auto-build-an-mkdocs-documentation-in-travis-ci
# https://github.com/mkdocs/mkdocs/issues/632

language: python
install:
  - pip install mkdocs
script:
  - mkdocs build --verbose #--strict
deploy:
  provider: script
  script:
    - git remote add gh-pages-travis https://${GITHUB_TOKEN}@github.com/niqdev/devops.git
    - git fetch gh-pages-travis && git fetch gh-pages-travis gh-pages:gh-pages
    - mkdocs gh-deploy --clean --force --remote-name gh-pages-travis
  on:
    branch: master
